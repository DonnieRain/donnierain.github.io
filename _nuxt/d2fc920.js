(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{256:function(t,e,o){},269:function(t,e,o){"use strict";var r=o(256);o.n(r).a},282:function(t,e,o){"use strict";var r={data:function(){return{scrollData:{fixedState:!1,scroll:0,topLimit:null},isBottom:!1}},mounted:function(){document.getElementById("stickyPencil").firstElementChild&&(this.initFixedSidebar(),this.initScroll())},destroyed:function(){window.removeEventListener("scroll",this.scrollHandler)},methods:{initFixedSidebar:function(){var t=document.getElementById("stickyPencil").getBoundingClientRect();this.scrollData.topLimit=t.top+pageYOffset},initScroll:function(){this.scrollHandler(),window.addEventListener("scroll",this.scrollHandler)},scrollHandler:function(){this.isBottom=!1;var t=document.getElementById("stickyPencil"),e=t.firstElementChild.offsetHeight;t.style.height="".concat(e,"px");var o=document.querySelector(".aside-sidebar").offsetHeight,r=window.pageYOffset,n=window.pageYOffset+80,l=o-t.offsetHeight-(r+80-this.scrollData.topLimit);this.scrollData.topLimit<=n?l>=-2?(this.scrollData.fixedState=!0,this.isBottom=!1):(this.scrollData.fixedState=!1,this.isBottom=!0):this.scrollData.fixedState=!1}}},n=(o(269),o(61)),component=Object(n.a)(r,(function(){var t=this.$createElement,e=this._self._c||t;return e("aside",{staticClass:"aside-sidebar"},[e("div",{staticClass:"sidebar-sticky",class:{"sidebar-sticky--fixed":this.scrollData.fixedState,"sidebar-sticky--bottom":this.isBottom},attrs:{id:"stickyPencil"}},[this._t("default")],2)])}),[],!1,null,"b2d67c8e",null);e.a=component.exports},307:function(t,e,o){},310:function(t,e,o){},311:function(t,e,o){},315:function(t,e,o){},316:function(t,e,o){},415:function(t,e,o){"use strict";var r=o(307);o.n(r).a},417:function(t,e,o){"use strict";var r=o(310);o.n(r).a},418:function(t,e,o){"use strict";var r=o(311);o.n(r).a},420:function(t,e,o){"use strict";var r=o(315);o.n(r).a},421:function(t,e,o){"use strict";var r=o(316);o.n(r).a},510:function(t,e,o){"use strict";o.r(e);var r=o(24),n=(o(21),o(2)),l=o(265),c=o(283),d=o(285),h=o(284),f=o(286),_={components:{BlogPostCategory:d.a,BlogPostDate:h.a,BlogPostAuthor:f.a,BlogListPostRating:c.a},props:{data:{type:Object,required:!0}}},m=(o(415),o(61)),v=Object(m.a)(_,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"article-card"},[o("img",{staticClass:"article-card-image",attrs:{src:null!=t.data.thumbnail&&t.data.thumbnail.url?t.data.thumbnail:"/images/svg/blog-page-list.svg",alt:t.data.post_title}}),t._v(" "),o("div",{staticClass:"article-card-content"},[o("div",{staticClass:"article-card-content-body"},[o("nuxt-link",{key:t.data.post_slug,attrs:{to:{name:"blog-post",params:{slug:t.data.post_slug}}}},[o("span",{staticClass:"article-card-content-title"},[t._v("\n                    "+t._s(t.data.post_title)+"\n                ")])]),t._v(" "),o("p",{staticClass:"article-card-content-excerpt"},[t._v("\n                "+t._s(t.data.post_excerpt)+"\n            ")])],1),t._v(" "),o("div",{staticClass:"article-card-content-footer"},[o("blog-post-category",{attrs:{category:t.data.category_details}}),t._v(" "),o("blog-post-date",{attrs:{date:t.data.updated_at}}),t._v(" "),o("blog-post-author",{attrs:{owner:t.data.owner}}),t._v(" "),o("blog-list-post-rating",{attrs:{id:t.data.id,rating:t.data.count_like,"like-list":t.data.likes}})],1)])])}),[],!1,null,"0fd05f41",null).exports,C=o(413),y=o(305),w={name:"TheBlogList",components:{BlogListPostCard:v,Skeleton:C.a,TheBlogNotFound:y.a},props:{blogPosts:{type:Array,required:!0},loading:{type:Boolean,default:!1},skeleton:{type:Boolean,default:function(){return!0}}},methods:{showFilter:function(){this.$root.$emit("openFilter")}}},k=(o(417),Object(m.a)(w,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-blog__container",attrs:{id:"stickyBottomLimit"}},[o("div",{staticClass:"articles-list"},[o("div",{attrs:{name:"list",tag:"div"}},t._l(t.blogPosts,(function(t,e){return o("blog-list-post-card",{key:t.id+e,attrs:{data:t}})})),1),t._v(" "),t.skeleton?o("skeleton"):t._e(),t._v(" "),t.loading?t._e():o("transition",{attrs:{name:"fade"}},[t.blogPosts.length?t._e():o("the-blog-not-found")],1),t._v(" "),t.loading?o("transition",{attrs:{name:"fade"}},[o("div",{staticClass:"articles-loader"},[o("div",{staticClass:"articles-loader__dot"}),t._v(" "),o("div",{staticClass:"articles-loader__dot"}),t._v(" "),o("div",{staticClass:"articles-loader__dot"}),t._v(" "),o("div",{staticClass:"articles-loader__dot"}),t._v(" "),o("div",{staticClass:"articles-loader__dot"})])]):t._e()],1)])}),[],!1,null,"599fa2fe",null).exports),S=o(255),B={props:{categories:{type:Array,required:!0},selectedCategories:{type:Array,default:function(){return[]}}},data:function(){return{selectedCategoriesInComponent:this.selectedCategories.length?this.selectedCategories:[],showFilter:!0,mobileState:!1,mobileMenuState:!1,clearSearch:!1,categoriesCopy:null}},computed:{selectedCategoriesCount:function(){return this.selectedCategories.length},checkedCategories:function(){var t=this;return this.categories.map((function(e){e.isShow=!1,e.categories.map((function(o){t.selectedCategories.filter((function(i){o.id===i&&(e.isShow=!0)}))}))})),this.categories}},watch:{selectedCategoriesInComponent:{deep:!0,handler:function(){this.$emit("changedCategories",this.selectedCategoriesInComponent)}}},mounted:function(){var t=this;document.querySelector("#stickyPencil").addEventListener("click",(function(t){t.stopPropagation()})),document.querySelector("body").addEventListener("click",(function(){t.showFilter=!1})),S.a.$on("toggleFilter",(function(e){t.showFilter=e})),S.a.$on("removeCategory",(function(e){t.selectedCategories=e}))},methods:{resetCategories:function(){this.selectedCategoriesInComponent=[]},scrollTop:function(){var t=document.querySelector(".bc-wrapper");window.scrollY>t.offsetHeight+100&&t.scrollIntoView({behavior:"smooth",block:"end",inline:"start"})},toggleSublist:function(t){"none"===t.children[0].style.display?(t.classList.add("category-filter__list_item--active"),t.children[0].style.display="block",S.a.$emit("resizeSibebar",!0)):(t.classList.remove("category-filter__list_item--active"),t.children[0].style.display="none",S.a.$emit("resizeSibebar",!0))},prepareCategories:function(){var t=[];return this.categories.map((function(e){e.categories.filter((function(e){!0===e.active&&t.push(e)}))})),JSON.stringify(t)},hideFilter:function(){this.showFilter=!this.showFilter}}},$=(o(418),Object(m.a)(B,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"category-filter",class:t.showFilter?"category-filter__active":""},[o("header",{staticClass:"category-filter__header"},[o("span",{staticClass:"category-filter__header-close",on:{click:function(e){return t.hideFilter()}}}),t._v(" "),o("h1",{staticClass:"category-filter__title"},[t._v("\n            Categories\n        ")])]),t._v(" "),o("section",{staticClass:"category-filter__body"},[o("ul",{staticClass:"category-filter__list"},[t._l(t.checkedCategories,(function(e){return[o("li",{key:e.id,staticClass:"category-filter__list_item",on:{click:function(e){return e.target!==e.currentTarget?null:t.toggleSublist(e.target)}}},[t._v("\n                    "+t._s(e.title)+"\n                    "),t._v(" "),e.categories?[o("ul",{directives:[{name:"show",rawName:"v-show",value:e.isShow,expression:"category.isShow"}],staticClass:"category-filter__list_item_sublist"},[t._l(e.categories,(function(r){return[0!==r.posts_count?o("li",{key:r.id,staticClass:"category-filter__list_item_sublist_item",class:e.isShow?"category-filter__list_item_sublist_item category-filter__list_item--active":"category-filter__list_item_sublist_item"},[o("span",{staticClass:"squaredThree"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.selectedCategoriesInComponent,expression:"selectedCategoriesInComponent"}],attrs:{id:r.id,type:"checkbox"},domProps:{value:r.id,checked:Array.isArray(t.selectedCategoriesInComponent)?t._i(t.selectedCategoriesInComponent,r.id)>-1:t.selectedCategoriesInComponent},on:{change:function(e){var o=t.selectedCategoriesInComponent,n=e.target,l=!!n.checked;if(Array.isArray(o)){var c=r.id,d=t._i(o,c);n.checked?d<0&&(t.selectedCategoriesInComponent=o.concat([c])):d>-1&&(t.selectedCategoriesInComponent=o.slice(0,d).concat(o.slice(d+1)))}else t.selectedCategoriesInComponent=l}}}),t._v(" "),o("label",{attrs:{for:r.id}})]),t._v(" "),o("label",{attrs:{for:r.id}},[o("span",{staticClass:"category-filter__category-name"},[t._v(t._s(r.title)+" "),o("i",[t._v(t._s(r.posts_count))])])])]):t._e()]}))],2)]:t._e()],2)]}))],2),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.selectedCategoriesCount>0,expression:"selectedCategoriesCount > 0"}],staticClass:"category-filter__list-all btn-base btn-base_normal btn-base_orange",on:{click:function(e){return e.preventDefault(),t.resetCategories(e)}}},[t._v("\n            Reset\n        ")]),t._v(" "),o("span",{directives:[{name:"show",rawName:"v-show",value:t.selectedCategoriesCount>0,expression:"selectedCategoriesCount > 0"}],staticClass:"category-filter__counter"},[t._v("\n            "+t._s(t.selectedCategoriesCount)+" selected\n        ")])])])}),[],!1,null,null,null).exports),x=o(301),P=o(407),L=o(282),E=o(302),F=o(287),I=(o(47),{data:function(){return{value:this.value,showForm:!0}},mounted:function(){document.querySelector(".subscribe-form__input").addEventListener("input",(function(){this.value=this.value.replace(/[а-яё]/gi,"")}))},methods:{validateEmail:function(t){/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(t).toLowerCase())?(S.a.$emit("showSnackBar","Success email","success"),this.showForm=!1):S.a.$emit("showSnackBar","Please complete the form: Email","error")}}}),O=(o(420),Object(m.a)(I,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return t.showForm?o("div",{staticClass:"subscribe-form"},[t._m(0),t._v(" "),o("div",{staticClass:"subscribe-form__body"},[o("form",[o("input",{directives:[{name:"model",rawName:"v-model",value:t.value,expression:"value"}],staticClass:"subscribe-form__input",attrs:{type:"email",placeholder:"Enter email"},domProps:{value:t.value},on:{input:function(e){e.target.composing||(t.value=e.target.value)}}}),t._v(" "),o("input",{staticClass:"button btn-base btn-base_orange",attrs:{type:"submit",value:"Subscribe"},on:{click:function(e){return e.preventDefault(),t.validateEmail(t.value)}}})])])]):t._e()}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"subscribe-form__img"},[e("div",{staticClass:"subscribe-form__img-container"},[e("img",{attrs:{src:"/images/svg/services/mail.svg",alt:""}})]),this._v(" "),e("span",{staticClass:"subscribe-form__img-text"},[this._v("\n            Subscribe to receive weekly email\n        ")])])}],!1,null,null,null).exports),D={layout:"blog",metaInfo:{title:"Blog"},name:"Blog",components:{TheBreadcrumbs:l.a,TheBlogList:k,TheBlogCategories:$,BlogSearch:x.a,sidebarFixed:L.a,TheBlogCheckedCategory:P.a,Pagination:E.a,ButtonLoader:F.a,SubscribeForm:O},fetch:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.search_for&&(t.payload.search_for=t.search_for),t.isLoadingInitialState=!0,e.next=5,t.$axios.$get("/api/open/blog/list",{params:t.payload});case 5:return o=e.sent,e.next=8,t.$axios.$get("/api/open/blog/categories-groups/list");case 8:t.categories=e.sent,t.posts=o.data,t.skeleton=!1,t.lastPage=o.last_page,e.next=16;break;case 14:e.prev=14,e.t0=e.catch(0);case 16:return e.prev=16,t.isLoadingInitialState=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,14,16,19]])})))()},data:function(){return{settingsBreadcrumbs:{title:"Blog",steps:[{title:"Home",url:"/"},{title:"Blog",url:"/blog"}]},currentPage:1,loadMorePage:2,isLoading:!1,lastPage:null,posts:[],categories:[],skeleton:!0,checkLoadMore:!0,checkPagination:!0,filter:!0}},computed:{payload:function(){return{selectedCategories:this.$route.query.selectedCategories?JSON.parse(this.$route.query.selectedCategories):[],page:this.$route.query.page||1,search_for:this.$route.query.search_for||""}},selectedCategories:function(){return this.$route.query.selectedCategories?JSON.parse(this.$route.query.selectedCategories):[]},selectedCategoriesCount:function(){return this.selectedCategories.length},searchFor:function(){return this.$route.query.search_for}},watch:{"$route.query":function(){this.$fetch()}},methods:{loadPagination:function(){this.checkLoadMore=!1},loadMore:function(){this.payload.page++,this.getData(),this.checkPagination=!1},getData:function(){var t=this;this.isLoading=!0,setTimeout(Object(n.a)(regeneratorRuntime.mark((function e(){var o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$axios.$get("/api/open/blog/list",{params:t.payload});case 2:return o=e.sent,e.next=5,t.$axios.$get("/api/open/blog/categories-groups/list");case 5:t.categories=e.sent,t.posts=[].concat(Object(r.a)(t.posts),Object(r.a)(o.data)),t.lastPage=o.last_page,t.isLoading=!1;case 9:case"end":return e.stop()}}),e)}))),500)},filterBlog:function(t){var e=this.payload;e.selectedCategories=JSON.stringify(t),this.$router.push({to:this.$route.fullPath,query:e})},filterBlogRemoveCategory:function(t){var e=this.payload;e.selectedCategories=JSON.stringify(t),this.$router.push({to:this.$route.fullPath,query:e})},searchBlog:function(t){var e=this.payload;e.search_for=t,e.selectedCategories=JSON.stringify(this.selectedCategories),this.$router.push({to:this.$route.fullPath,query:e})}}},N=(o(421),Object(m.a)(D,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"page-wrapper"},[o("the-breadcrumbs",{attrs:{settings:t.settingsBreadcrumbs,data:t.posts}}),t._v(" "),o("div",{staticClass:"page-section-mask",attrs:{id:"blog-component"}},[o("div",{staticClass:"wrapper wrapper__search"},[o("blog-search",{attrs:{filter:t.filter},on:{search:t.searchBlog}})],1),t._v(" "),o("section",{staticClass:"grid-container wrapper page-blog",attrs:{id:"start"}},[o("div",{staticClass:"row"},[o("the-blog-checked-category",{key:t.selectedCategoriesCount,attrs:{"selected-categories":t.selectedCategories,"list-of-categories":t.categories,"search-for":t.searchFor},on:{clearSearch:t.searchBlog,removeCategory:t.filterBlogRemoveCategory}}),t._v(" "),o("the-blog-list",{attrs:{"blog-posts":t.posts,skeleton:t.skeleton}}),t._v(" "),t.categories.length?o("sidebar-fixed",[o("the-blog-categories",{key:t.selectedCategoriesCount,attrs:{"selected-categories":t.selectedCategories,categories:t.categories},on:{changedCategories:t.filterBlog}}),t._v(" "),o("subscribe-form")],1):t._e()],1),t._v(" "),t.lastPage>1&&t.checkLoadMore?o("div",{staticClass:"row load-more"},[o("span",{staticClass:"button btn-base load-more-btn btn-base_orange",on:{click:function(e){return t.loadMore()}}},[o("div",{staticClass:"ink animate"}),t._v(" "),o("span",{staticClass:"load-more__inner"},[t.isLoading?o("button-loader"):t._e(),t._v("\n                        load more\n                    ")],1)])]):t._e(),t._v(" "),t.checkPagination?o("div",{staticClass:"row",on:{click:function(e){return t.loadPagination()}}},[o("pagination",{attrs:{"last-page":t.lastPage,page:t.payload.page},on:{paginate:function(e){return t.paginate()}}})],1):t._e()])])],1)}),[],!1,null,null,null));e.default=N.exports}}]);